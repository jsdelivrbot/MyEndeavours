<?xml version="1.0" encoding="UTF-8" ?>
<!-- Generated by Oracle SCA Test Modeler version 1.0 at [12/2/09 9:55 PM]. -->
<compositeTest compositeDN="bpel-106-FaultHandling" xmlns="http://xmlns.oracle.com/sca/2006/test">
  <about>Tests the compensation and the right order of reverse scope execution during it</about>
  <initiate serviceName="faulthandlingwithcompensation_client_ep" operation="process" isAsync="false" delay="PT0S">
    <message>
      <part partName="payload">
        <content>
          <process xmlns="http://example.com/bpel_106_FaultHandling/SyncFaultHandling">
            <input>input5</input>
          </process>
        </content>
      </part>
    </message>
  </initiate>
  <wireActions wireSource="faulthandlingwithcompensation_client_ep" operation="process">
    <assert comparisonMethod="string">
      <description>Tests the compensation, and the right order of scope activation during compensation</description>
      <expected>
        <location key="output" partName="payload" xpath="/client:processResponse/client:result" xmlns:client="http://example.com/bpel_106_FaultHandling/SyncFaultHandling"/>
        <simple>Got input: input5 -> Scope (1) executed | Scope (2) - executed | Scope (2) - compensation | Scope (1) - compensation</simple>
      </expected>
    </assert>
  </wireActions>
</compositeTest>
